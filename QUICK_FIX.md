# ⚡ 快速修复指南

## 🔥 立即执行（3 步搞定）

### 步骤 1: 初始化测试商品（1 分钟）

**新开一个 PowerShell 窗口**:

```powershell
cd backend
uv run python init_test_data.py
```

**预期输出**:
```
✅ 成功初始化 15 个测试商品！
```

---

### 步骤 2: 重启 Backend（自动应用修复）

**在原来的 Backend 终端**:

1. 按 `Ctrl+C` 停止
2. 重新启动:

```powershell
uv run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**预期**: 不再报错，正常运行

---

### 步骤 3: 重启 Desktop（获得手动输入功能）

**在原来的 Desktop 终端**:

1. 按 `Ctrl+C` 停止
2. 重新启动:

```powershell
npm run tauri dev
```

**预期**: 收银台顶部出现"手动输入条码..."输入框

---

## ✅ 测试修复结果

### 测试 1: 手动输入功能

1. 进入"收银台"
2. 在顶部输入框输入: `6901234567890`
3. 按 Enter 或点击"🔍 查询"
4. ✅ "可口可乐 330ml" 添加到购物车

### 测试 2: 商品查询

1. 进入"商品管理"
2. 输入: `6901234567890`
3. 点击"搜索"
4. ✅ 显示商品卡片

### 测试 3: 仪表盘

1. 进入"仪表盘"（首页）
2. ✅ 不再报错
3. ✅ 显示统计数据

---

## 📦 可用的测试条码

| 条码 | 商品名称 | 价格 |
|------|---------|------|
| 6901234567890 | 可口可乐 330ml | ¥3.50 |
| 6901234567891 | 百事可乐 330ml | ¥3.00 |
| 6901234567892 | 康师傅冰红茶 500ml | ¥3.50 |
| 6901234567893 | 统一绿茶 500ml | ¥3.50 |
| 6901234567894 | 乐事薯片 原味 70g | ¥6.50 |
| 6901234567895 | 奥利奥饼干 116g | ¥7.90 |
| 6901234567896 | 德芙巧克力 80g | ¥15.90 |
| 6901234567897 | 三只松鼠坚果 | ¥49.90 |
| 6901234567898 | 康师傅红烧牛肉面 | ¥12.90 |
| 6901234567899 | 统一老坛酸菜面 | ¥13.50 |
| 6901234567900 | 蒙牛纯牛奶 | ¥45.00 |
| 6901234567901 | 伊利安慕希酸奶 | ¥52.00 |
| 6901234567902 | 农夫山泉 550ml | ¥2.00 |
| 6901234567903 | 怡宝矿泉水 555ml | ¥2.00 |
| 6901234567904 | 旺旺大礼包 628g | ¥39.90 |

---

## 💡 关于图片和 AI 识别

### Q: 为什么添加商品时不能上传图片？

**A**: 当前是 MVP 版本，有条码的商品不需要图片。

### Q: 那 AI 识别怎么工作？

**A**: AI 识别是用于**没有条码的商品**（如水果、蔬菜）：

1. **小程序拍照** → 上传图片
2. **AI 识别** → 返回候选商品
3. **用户确认** → 添加到购物车
4. **图片保存** → 用于训练（自动积累数据）

### Q: 如何让 AI 识别更准确？

**A**: 使用越多，数据越多，越准确！

```
用户拍照 → 确认商品 → 图片保存 → 定期重建索引 → 识别更准
```

---

## 🎉 完成！

现在你有：
- ✅ 15 个测试商品
- ✅ 手动输入功能
- ✅ 修复了后端错误
- ✅ 完整的收银系统

**开始测试吧！** 🚀

---

需要更多帮助？查看 [FIXES_AND_IMPROVEMENTS.md](FIXES_AND_IMPROVEMENTS.md)

